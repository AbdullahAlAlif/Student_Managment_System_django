{% extends "students/layout.html" %}

{% block body %}
<h3 class="m-4">Add Student</h3>

    {% if success %}
        <div class="alert alert-success" role="alert">
        The new student added successfully.
        <a href="{% url 'Students_index' %}" class="alert-link">Go to Home Page.</a>
        </div>
    {% else %}
    <div class="row justify-content-center">
        <div class="col-6">
            <div class="card border-warning mb-3">
                <div class="card-header"><i class="fa-regular fa-address-card fa-lg"></i> Student Registration </div>
                <div class="card-body">
                    <form action="{% url 'add_student' %}" method="POST"> <!-- {% url 'add_student' %} even if we don't use this it will work fine cuz the form by default sends to the current url and since we are in the add page while adding it works perfectly without it-->
                        {% csrf_token %} <!-- To prevent CSRF -->
                        {{form.as_p}} <!-- This tells django to render the form specified in our student form class within the p tag => plugin the form here -->
                        <button type="submit" class="btn btn-success">Add</button>
                        <a href="{% url 'Students_index' %}" class="btn btn-danger">Cancel</a>
                    </form>
                </div>
              </div>
        </div>
      </div>
    {% endif %}

{% endblock %}